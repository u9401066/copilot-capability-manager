# Roadmap

> ğŸ”¬ **ç ”ç©¶å°å‘è·¯ç·šåœ–** - é€™æ˜¯ä¸€å€‹æ¢ç´¢æ€§å°ˆæ¡ˆï¼Œç‰ˆæœ¬è¿­ä»£ä»¥æ¦‚å¿µé©—è­‰ç‚ºä¸»

---

## ğŸ¯ æ ¸å¿ƒå•é¡Œï¼šä½•è¬‚ã€Œèƒ½åŠ›ã€(Capability)ï¼Ÿ

### é–‹æ”¾å•é¡Œ (Open Questions)

```
Q1: èƒ½åŠ› â‰  å·¥ä½œæµï¼Ÿå·®ç•°æ˜¯ä»€éº¼ï¼Ÿ
Q2: èƒ½åŠ›å¯ä»¥è¢«ã€Œæ¸¬é‡ã€å—ï¼Ÿå¦‚ä½•è¡¡é‡ï¼Ÿ
Q3: èƒ½åŠ›å¯ä»¥è¢«ã€Œçµ„åˆã€å—ï¼Ÿçµ„åˆé‚è¼¯æ˜¯ä»€éº¼ï¼Ÿ
Q4: èƒ½åŠ›å¯ä»¥è¢«ã€ŒæŠ½è±¡ã€å—ï¼ŸæŠ½è±¡å±¤æ¬¡æœ‰å¹¾å±¤ï¼Ÿ
Q5: èƒ½åŠ›å¯ä»¥è¢«ã€Œé©—è­‰ã€å—ï¼Ÿæ­£ç¢ºæ€§å¦‚ä½•å®šç¾©ï¼Ÿ
```

### å·¥ä½œå‡è¨­ (Working Hypothesis)

```
Capability = Graph + Contracts + Semantics + Execution Policy

å…¶ä¸­ï¼š
â€¢ Graph       = çµæ§‹ï¼ˆç¯€é»ã€é‚Šã€æ‹“æ’²ï¼‰
â€¢ Contracts   = ç´„æŸï¼ˆå‰ç½®ã€å¾Œç½®ã€ä¸è®Šå¼ï¼‰
â€¢ Semantics   = èªç¾©ï¼ˆæ„åœ–ã€é ˜åŸŸã€ä¸Šä¸‹æ–‡ï¼‰
â€¢ Policy      = ç­–ç•¥ï¼ˆé‡è©¦ã€è¶…æ™‚ã€å›é€€ï¼‰
```

---

## ğŸ—ï¸ æ¶æ§‹æ¢ç´¢ï¼šæˆ‘å€‘åœ¨å»ºä»€éº¼ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‚³çµ± Agent æ¡†æ¶ä½ç½®                               â”‚
â”‚                                                                      â”‚
â”‚    User â”€â”€â–º [LangGraph/AutoGen] â”€â”€â–º LLM â”€â”€â–º Tools                   â”‚
â”‚                     â†‘                                                â”‚
â”‚              ç‹€æ…‹æ©Ÿåœ¨é€™è£¡                                             â”‚
â”‚              (Agent å…§éƒ¨)                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æˆ‘å€‘çš„æ¶æ§‹ä½ç½®                                     â”‚
â”‚                                                                      â”‚
â”‚    User â”€â”€â–º [Capability Layer] â”€â”€â–º Agent (Copilot) â”€â”€â–º Tools        â”‚
â”‚                     â†‘                                                â”‚
â”‚              çµæ§‹åœ¨é€™è£¡                                               â”‚
â”‚              (Agent å¤–éƒ¨)                                            â”‚
â”‚              Agent æ˜¯é»‘ç›’åŸ·è¡Œè€…                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é—œéµæ´å¯Ÿ

> æˆ‘å€‘ä¸æ˜¯åœ¨åš Agent ç·¨æ’ï¼Œè€Œæ˜¯åœ¨åš **ã€Œçµ¦ Agent çš„æŒ‡ä»¤çµæ§‹åŒ–ã€**

---

## ï¿½ æ ¸å¿ƒç´„æŸï¼šAgent å¤–å±¤ä½œæ¥­

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¯¦éš›ç³»çµ±ç´„æŸ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  Our Software     â”‚    å”¯ä¸€é€šé“        â”‚    Copilot        â”‚    â”‚
â”‚   â”‚  (å…·è±¡åŒ–èƒ½åŠ›)      â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º â”‚    (é»‘ç›’ Agent)    â”‚    â”‚
â”‚   â”‚                   â”‚   AGENTS.md        â”‚                   â”‚    â”‚
â”‚   â”‚  â€¢ Graph          â”‚   .prompt.md       â”‚   è®€å–æ–‡å­—        â”‚    â”‚
â”‚   â”‚  â€¢ Contract       â”‚   (ç´”æ–‡å­—!)        â”‚   åšå‡ºè¡Œå‹•        â”‚    â”‚
â”‚   â”‚  â€¢ Policy         â”‚                    â”‚                   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â”‚   å…·è±¡åŒ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æŠ½è±¡åŒ–                   â”‚
â”‚   (çµæ§‹ã€åœ–ã€å¥‘ç´„)                          (Markdown æ–‡å­—)          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒçŸ›ç›¾èˆ‡è§£æ±º

```text
æˆ‘å€‘æƒ³è¦ï¼šçµæ§‹åŒ–ã€å¯é©—è­‰ã€å¯è¦–åŒ–çš„ã€Œèƒ½åŠ›ã€è¡¨ç¤º
Agent èƒ½è®€ï¼šç´”æ–‡å­— Markdown

è§£æ±ºæ–¹æ¡ˆï¼šçµæ§‹ â”€â”€ç·¨è­¯â”€â”€â–º æ–‡å­— â”€â”€é€šé“â”€â”€â–º Agent
```

### ğŸ’¡ é‡æ–°å®šç¾©ï¼šCapability = Prompt çš„å…ƒè¡¨ç¤º

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚   æˆ‘å€‘ä¸æ˜¯åœ¨ã€ŒåŸ·è¡Œã€èƒ½åŠ›ï¼Œè€Œæ˜¯åœ¨ã€Œç·¨è­¯ã€èƒ½åŠ›æˆ Prompt                 â”‚
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Capability  â”‚ â”€â”€â”€â–º â”‚   Prompt    â”‚ â”€â”€â”€â–º â”‚  Markdown   â”‚        â”‚
â”‚   â”‚   Graph     â”‚      â”‚  Compiler   â”‚      â”‚   Output    â”‚        â”‚
â”‚   â”‚ (å…ƒè¡¨ç¤º)    â”‚      â”‚  (ç·¨è­¯å™¨)   â”‚      â”‚ (çµ¦ Agent)  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚   é¡æ¯”ï¼š                                                             â”‚
â”‚   TypeScript â”€â”€â–º tsc â”€â”€â–º JavaScript                                 â”‚
â”‚   Capability â”€â”€â–º compiler â”€â”€â–º Prompt Markdown                       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã€Œè»Ÿé«”å…·è±¡åŒ–ã€çš„çœŸæ­£ç›®çš„

| ç›®çš„ | èªªæ˜ | æœ€çµ‚è¼¸å‡º |
|------|------|----------|
| **è¨­è¨ˆæ™‚é©—è­‰** | æª¢æŸ¥æµç¨‹é‚è¼¯ã€å¥‘ç´„ä¸€è‡´æ€§ | ç„¡ï¼ˆå…§éƒ¨ç”¨ï¼‰ |
| **è¦–è¦ºåŒ–ç·¨è¼¯** | GUI æ‹–æ‹‰ã€é€£ç·š | ç„¡ï¼ˆå…§éƒ¨ç”¨ï¼‰ |
| **ç‰ˆæœ¬ç®¡ç†** | è¿½è¹¤èƒ½åŠ›æ¼”é€² | ç„¡ï¼ˆå…§éƒ¨ç”¨ï¼‰ |
| **Prompt ç·¨è­¯** | æŠŠçµæ§‹è½‰æˆæ–‡å­— | âœ… `.prompt.md` |

> **çµè«–ï¼šå…·è±¡åŒ–æ˜¯ç‚ºäº†ã€Œç®¡ç†ã€å’Œã€Œç·¨è­¯ã€ï¼Œä¸æ˜¯ç‚ºäº†ã€ŒåŸ·è¡Œã€ï¼**

---

## ï¿½ğŸ“Š ç¾æœ‰ç³»çµ±å¯èå…¥åˆ†æ

| ç³»çµ± | ç‰¹æ€§ | å¯å€Ÿé‘’ | èå…¥å¯èƒ½æ€§ |
|------|------|--------|-----------|
| **Petri Net** | ä¸¦ç™¼ã€åŒæ­¥ã€è³‡æº | Token-based åŸ·è¡Œèªç¾© | â­â­â­ é«˜ |
| **Statecharts** | å±¤æ¬¡ç‹€æ…‹ã€æ­·å² | åµŒå¥—ç‹€æ…‹æ©Ÿ | â­â­ ä¸­ |
| **BPMN** | æ¥­å‹™æµç¨‹æ¨™æº– | Gateway, Event | â­â­ ä¸­ |
| **Activity Diagram** | UML æ¨™æº– | Fork/Join/Decision | â­â­ ä¸­ |
| **Dataflow** | æ•¸æ“šé©…å‹• | ç®¡ç·šå¼è™•ç† | â­â­â­ é«˜ |
| **Knowledge Graph** | èªç¾©ç¶²è·¯ | å¯¦é«”é—œä¿‚ | â­â­â­ é«˜ |
| **Process Algebra** | å½¢å¼åŒ–é©—è­‰ | CSP/CCS èªç¾© | â­ ä½ (å­¸è¡“) |

### èå…¥ç­–ç•¥

```yaml
Phase 1: Capability Graph (åŸºç¤ DAG)
  â””â”€ å€Ÿé‘’: Activity Diagram (æ§åˆ¶æµ)

Phase 2: + æ•¸æ“šæµ
  â””â”€ å€Ÿé‘’: Dataflow (æ•¸æ“šç®¡ç·š)

Phase 3: + ä¸¦ç™¼æ¨¡å‹
  â””â”€ å€Ÿé‘’: Petri Net (Token èªç¾©)

Phase 4: + èªç¾©å±¤
  â””â”€ å€Ÿé‘’: Knowledge Graph (æ„åœ–è·¯ç”±)
```

---

## ğŸ”£ ç¬¦è™Ÿçµ±ä¸€å•é¡Œ

### ç›®å‰ç¬¦è™Ÿç³»çµ± (v0.5.x)

```python
# ç¯€é»é¡å‹
class NodeType(Enum):
    SKILL = "skill"              # æŠ€èƒ½ç¯€é»
    TOOL = "tool"                # å·¥å…·èª¿ç”¨
    DECISION = "control.decision" # åˆ†æ”¯
    LOOP = "control.loop"        # å¾ªç’°
    ABSTRACT = "abstract"        # æŠ½è±¡ç¯€é»

# é‚Šé¡å‹
class EdgeType(Enum):
    SEQUENCE = "sequence"        # é †åº
    CONDITIONAL = "conditional"  # æ¢ä»¶
    OPTIONAL = "optional"        # å¯é¸
```

### ç¬¦è™Ÿçµ±ä¸€æ–¹å‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç¬¦è™Ÿçµ±ä¸€æ¡†æ¶ (ææ¡ˆ)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  1. ç¯€é»ç¬¦è™Ÿ (Node Symbols)                                          â”‚
â”‚     â—‹ = æ™®é€šç¯€é» (Skill/Tool)                                        â”‚
â”‚     â—‡ = æ±ºç­–ç¯€é» (Decision)                                          â”‚
â”‚     â–¡ = æŠ½è±¡ç¯€é» (Abstract) - åŸ·è¡Œæ™‚ç¶å®š                              â”‚
â”‚     â— = è¤‡åˆç¯€é» (Composite) - åµŒå¥—å­åœ–                              â”‚
â”‚     â— = çµ‚ç«¯ç¯€é» (Terminal)                                          â”‚
â”‚                                                                      â”‚
â”‚  2. é‚Šç¬¦è™Ÿ (Edge Symbols)                                            â”‚
â”‚     â”€â†’ = æ§åˆ¶æµ (Control Flow)                                       â”‚
â”‚     â•> = æ•¸æ“šæµ (Data Flow)                                          â”‚
â”‚     â•Œâ†’ = æ¢ä»¶é‚Š (Conditional)                                        â”‚
â”‚     â‹¯> = å¯é¸é‚Š (Optional)                                           â”‚
â”‚                                                                      â”‚
â”‚  3. å¥‘ç´„ç¬¦è™Ÿ (Contract Symbols)                                       â”‚
â”‚     âŠ¢ = å‰ç½®æ¢ä»¶ (Precondition)                                      â”‚
â”‚     âŠ£ = å¾Œç½®æ¢ä»¶ (Postcondition)                                     â”‚
â”‚     âŠ¨ = ä¸è®Šå¼ (Invariant)                                           â”‚
â”‚                                                                      â”‚
â”‚  4. åŸ·è¡Œç¬¦è™Ÿ (Execution Symbols)                                      â”‚
â”‚     âŠ• = ä¸¦è¡Œåˆ†æ”¯ (Fork)                                              â”‚
â”‚     âŠ— = ä¸¦è¡Œåˆä½µ (Join)                                              â”‚
â”‚     â†» = å¾ªç’° (Loop)                                                  â”‚
â”‚     âŸ² = é‡è©¦ (Retry)                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”· æŠ½è±¡å±¤è¨­è¨ˆ

### ç›®å‰ä¸‰å±¤æ¶æ§‹

```
Layer 3: Capability (èƒ½åŠ›)
Layer 2: Skill (æŠ€èƒ½)
Layer 1: Tool (å·¥å…·)
```

### æ“´å±•ææ¡ˆï¼šäº”å±¤æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         äº”å±¤æŠ½è±¡æ¶æ§‹ (ææ¡ˆ)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Layer 5: INTENT (æ„åœ–å±¤) ğŸ†•                                         â”‚
â”‚  â”œâ”€ "å¯«ä¸€ç¯‡å ±å‘Š" / "éƒ¨ç½²æ‡‰ç”¨" / "ä»£ç¢¼å¯©æŸ¥"                           â”‚
â”‚  â”œâ”€ æœ€é«˜å±¤æŠ½è±¡ï¼Œæ¥è¿‘è‡ªç„¶èªè¨€                                         â”‚
â”‚  â””â”€ ä¸€å€‹æ„åœ–å¯å°æ‡‰å¤šå€‹èƒ½åŠ›                                           â”‚
â”‚                                                                      â”‚
â”‚  Layer 4: CAPABILITY (èƒ½åŠ›å±¤)                                        â”‚
â”‚  â”œâ”€ çµæ§‹åŒ–çš„åŸ·è¡Œåœ–                                                   â”‚
â”‚  â”œâ”€ åŒ…å«å¥‘ç´„ã€ç­–ç•¥ã€èªç¾©                                             â”‚
â”‚  â””â”€ ä¸€å€‹èƒ½åŠ› = å¤šå€‹æŠ€èƒ½çš„ç·¨æ’                                        â”‚
â”‚                                                                      â”‚
â”‚  Layer 3: SKILL (æŠ€èƒ½å±¤)                                             â”‚
â”‚  â”œâ”€ å¯é‡ç”¨çš„æ“ä½œå–®å…ƒ                                                 â”‚
â”‚  â”œâ”€ æœ‰æ¸…æ™°çš„è¼¸å…¥/è¼¸å‡ºå¥‘ç´„                                            â”‚
â”‚  â””â”€ ä¸€å€‹æŠ€èƒ½å¯ä½¿ç”¨å¤šå€‹å·¥å…·                                           â”‚
â”‚                                                                      â”‚
â”‚  Layer 2: TOOL (å·¥å…·å±¤)                                              â”‚
â”‚  â”œâ”€ MCP Tools / VS Code APIs                                         â”‚
â”‚  â”œâ”€ ç¢ºå®šæ€§çš„ API èª¿ç”¨                                                â”‚
â”‚  â””â”€ æœ€ä½å±¤æŠ½è±¡                                                       â”‚
â”‚                                                                      â”‚
â”‚  Layer 1: RUNTIME (åŸ·è¡Œæ™‚å±¤) ğŸ†•                                      â”‚
â”‚  â”œâ”€ å¯¦éš›çš„åŸ·è¡Œç’°å¢ƒ                                                   â”‚
â”‚  â”œâ”€ æ–‡ä»¶ç³»çµ±ã€ç¶²è·¯ã€è¨˜æ†¶é«”                                           â”‚
â”‚  â””â”€ è³‡æºç®¡ç†ã€ç‹€æ…‹è¿½è¹¤                                               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±¤é–“é—œä¿‚

```
Intent â”€â”€1:Nâ”€â”€â–º Capability â”€â”€1:Nâ”€â”€â–º Skill â”€â”€1:Nâ”€â”€â–º Tool
                                                      â”‚
                                                      â–¼
                                                   Runtime
```

---

## ğŸ“… ç ”ç©¶è·¯ç·šåœ– (Research Roadmap)

### v0.5.x - åŸºç¤é©—è­‰ (ç¾åœ¨)

```yaml
ç‹€æ…‹: ğŸš§ é€²è¡Œä¸­
ç›®æ¨™: é©—è­‰ Neuro-Symbolic æ¶æ§‹å¯è¡Œæ€§

å®Œæˆ:
  - [x] DDD ä¸‰å±¤æ¶æ§‹ (Domain/Application/Infrastructure)
  - [x] Capability Graph åŸºç¤å¯¦ç¾
  - [x] æŠ½è±¡ç¯€é» (Abstract Node) æ¦‚å¿µ
  - [x] MCP Server åŸå‹

é€²è¡Œä¸­:
  - [ ] å¥‘ç´„ç³»çµ±åŸå‹ (Contract System)
  - [ ] ç¬¦è™Ÿçµ±ä¸€åˆç‰ˆ

é–‹æ”¾å•é¡Œ:
  - å¥‘ç´„èªè¨€ç”¨ä»€éº¼ï¼Ÿ(YAML? DSL? å½¢å¼åŒ–?)
  - æŠ½è±¡ç¯€é»è§£æç­–ç•¥ï¼Ÿ(è¦å‰‡? å­¸ç¿’?)
```

### v0.6.x - ç¬¦è™Ÿç³»çµ± (Q1 2025)

```yaml
ç‹€æ…‹: ğŸ“‹ è¨ˆåŠƒ
ç›®æ¨™: å»ºç«‹çµ±ä¸€çš„ç¬¦è™Ÿè¡¨ç¤ºç³»çµ±

ç ”ç©¶å•é¡Œ:
  - R1: ç¯€é»é¡å‹çš„å®Œæ•´åˆ†é¡
  - R2: é‚Šèªç¾©çš„å½¢å¼åŒ–å®šç¾©
  - R3: å¥‘ç´„èªè¨€è¨­è¨ˆ
  - R4: åŸ·è¡Œèªç¾©å®šç¾©

å¯¦é©—:
  - [ ] ç¬¦è™Ÿ DSL è¨­è¨ˆèˆ‡å¯¦ç¾
  - [ ] åœ–åºåˆ—åŒ–æ ¼å¼ (JSON? YAML? è‡ªå®šç¾©?)
  - [ ] ç¬¦è™Ÿå¯è¦–åŒ–åŸå‹

ç”¢å‡º:
  - ç¬¦è™Ÿç³»çµ±è¨­è¨ˆæ–‡æª”
  - DSL åƒè€ƒå¯¦ç¾
  - æ¸¬è©¦æ¡ˆä¾‹é›†
```

### v0.7.x - æ•¸æ“šæµæ“´å±• (Q1 2025)

```yaml
ç‹€æ…‹: ğŸ“‹ è¨ˆåŠƒ
ç›®æ¨™: å¾ç´”æ§åˆ¶æµæ“´å±•åˆ°æ•¸æ“šæµ

ç ”ç©¶å•é¡Œ:
  - R5: æ§åˆ¶æµ vs æ•¸æ“šæµçš„çµ±ä¸€è¡¨ç¤º
  - R6: æ•¸æ“šä¾è³´å¦‚ä½•è¡¨é”ï¼Ÿ
  - R7: é¡å‹ç³»çµ±éœ€è¦å—ï¼Ÿ

å¯¦é©—:
  - [ ] æ•¸æ“šæµé‚Šé¡å‹
  - [ ] æ•¸æ“šè½‰æ›ç¯€é»
  - [ ] ç®¡ç·šå¼åŸ·è¡Œæ¨¡å‹

å€Ÿé‘’:
  - Apache Beam (Dataflow)
  - TensorFlow Graph
  - Unix Pipes
```

### v0.8.x - ä¸¦ç™¼æ¨¡å‹ (Q2 2025)

```yaml
ç‹€æ…‹: ğŸ“‹ è¨ˆåŠƒ
ç›®æ¨™: å¼•å…¥ä¸¦ç™¼åŸ·è¡Œèƒ½åŠ›

ç ”ç©¶å•é¡Œ:
  - R8: ä¸¦ç™¼èªç¾©å¦‚ä½•å®šç¾©ï¼Ÿ
  - R9: åŒæ­¥é»å¦‚ä½•è¡¨é”ï¼Ÿ
  - R10: è³‡æºç«¶çˆ­å¦‚ä½•è™•ç†ï¼Ÿ

å¯¦é©—:
  - [ ] Fork/Join ç¯€é»
  - [ ] åŒæ­¥å±éšœ (Barrier)
  - [ ] ä¸¦ç™¼åŸ·è¡Œå™¨åŸå‹

å€Ÿé‘’:
  - Petri Net (Token èªç¾©)
  - Go Channels
  - Actor Model
```

### v0.9.x - èªç¾©å±¤ (Q2 2025)

```yaml
ç‹€æ…‹: ğŸ“‹ è¨ˆåŠƒ
ç›®æ¨™: åŠ å…¥èªç¾©ç†è§£èƒ½åŠ›

ç ”ç©¶å•é¡Œ:
  - R11: æ„åœ–å¦‚ä½•è¡¨ç¤ºï¼Ÿ
  - R12: é ˜åŸŸçŸ¥è­˜å¦‚ä½•ç·¨ç¢¼ï¼Ÿ
  - R13: èªç¾©è·¯ç”±å¦‚ä½•å¯¦ç¾ï¼Ÿ

å¯¦é©—:
  - [ ] æ„åœ–åˆ†é¡å™¨
  - [ ] é ˜åŸŸæœ¬é«” (Ontology)
  - [ ] èªç¾©åŒ¹é…å¼•æ“

å€Ÿé‘’:
  - Knowledge Graph
  - OWL/RDF
  - Intent Classification (NLU)
```

### v1.0.x - æ•´åˆèˆ‡é©—è­‰ (Q3 2025)

```yaml
ç‹€æ…‹: ğŸ“‹ é æœŸ
ç›®æ¨™: æ•´åˆæ‰€æœ‰çµ„ä»¶ï¼Œå®Œæ•´é©—è­‰

é©—è­‰ç›®æ¨™:
  - V1: èƒ½åŠ›å®šç¾©çš„å®Œæ•´æ€§
  - V2: ç¬¦è™Ÿç³»çµ±çš„ä¸€è‡´æ€§
  - V3: åŸ·è¡Œæ¨¡å‹çš„æ­£ç¢ºæ€§
  - V4: å¯¦ç”¨æ€§è©•ä¼°

ç”¢å‡º:
  - å®Œæ•´çš„ç†è«–æ¡†æ¶
  - åƒè€ƒå¯¦ç¾
  - è©•ä¼°å ±å‘Š
  - è«–æ–‡è‰ç¨¿ (?)
```

---

## ğŸ§ª å¯¦é©—è¿½è¹¤

| ID | å¯¦é©—åç¨± | ç‹€æ…‹ | çµè«– |
|----|----------|------|------|
| E01 | Prompt Files æ©Ÿåˆ¶ | âœ… | å¯è¡Œï¼Œä½†æœ‰é™åˆ¶ |
| E02 | DDD + Python Engine | âœ… | çµæ§‹æ¸…æ™° |
| E03 | MCP Server æ•´åˆ | âœ… | å¯ç”¨ |
| E04 | æŠ½è±¡ç¯€é»åŸå‹ | ğŸš§ | å¾…é©—è­‰ |
| E05 | å¥‘ç´„èªè¨€è¨­è¨ˆ | ğŸ“‹ | - |
| E06 | æ•¸æ“šæµæ“´å±• | ğŸ“‹ | - |
| E07 | ä¸¦ç™¼æ¨¡å‹ | ğŸ“‹ | - |
| E08 | èªç¾©è·¯ç”± | ğŸ“‹ | - |

---

## ï¿½ï¸ Prompt Compiler å¯¦ä½œæ–¹æ¡ˆ

> åŸºæ–¼ã€ŒAgent å¤–å±¤ä½œæ¥­ã€ç´„æŸï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹å°‡çµæ§‹åŒ–èƒ½åŠ›ã€Œç·¨è­¯ã€æˆç´”æ–‡å­—çš„å·¥å…·éˆ

### æ ¸å¿ƒæ¶æ§‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Capability Definition (DSL)                  â”‚
â”‚    YAML/JSON/textX å®šç¾©çµæ§‹åŒ–çš„èƒ½åŠ›æè¿°                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Prompt Compiler (ç·¨è­¯å™¨)                       â”‚
â”‚    Graph è§£æ â†’ æ‹“æ’²æ’åº â†’ æ¨¡æ¿æ¸²æŸ“ â†’ è¼¸å‡º Markdown          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Output: .prompt.md / AGENTS.md                 â”‚
â”‚    ç´”æ–‡å­— Promptï¼Œç”± Copilot Agent è®€å–                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨è–¦å·¥å…·å¥—ä»¶

| å±¤æ¬¡ | åŠŸèƒ½ | æ¨è–¦å·¥å…· | Stars | èªªæ˜ |
|------|------|----------|-------|------|
| **DSL å®šç¾©** | è‡ªå®šç¾©èªæ³•è§£æ | [textX](https://github.com/textX/textX) | 832â˜… | Python ç´”å¯¦ä½œï¼Œå¯å®šç¾© DSL èªæ³•ä¸¦ç”Ÿæˆ AST |
| **åœ–è™•ç†** | DAG å»ºæ¨¡ã€æ‹“æ’²æ’åº | `networkx` | - | Python æ¨™æº–åº«ç´šåˆ¥ï¼Œæ”¯æ´ DAG é©—è­‰å’Œéæ­· |
| **æ¨¡æ¿å¼•æ“** | çµæ§‹ â†’ æ–‡å­— | [Jinja2](https://github.com/pallets/jinja) | 11.3Kâ˜… | æ¥­ç•Œæ¨™æº–ï¼Œå·²è¢« Prompty æ¡ç”¨ |
| **Prompt æ ¼å¼** | æ¨™æº–åŒ– Prompt è³‡ç”¢ | [Prompty](https://github.com/microsoft/prompty) | - | å¾®è»Ÿå®˜æ–¹ï¼ŒVS Code æ•´åˆï¼ŒYAML frontmatter + template |
| **è¦–è¦ºåŒ–** | åœ–ç·¨è¼¯å™¨ UI | [React Flow](https://github.com/xyflow/xyflow) | 34.4Kâ˜… | ç”¨æ–¼ VS Code Extension çš„åœ–ç·¨è¼¯ UI |

### ç›¸é—œ Prompt Engineering å°ˆæ¡ˆ

| å°ˆæ¡ˆ | å®šä½ | å¯å€Ÿé‘’ |
|------|------|--------|
| [microsoft/prompty](https://github.com/microsoft/prompty) | Prompt è³‡ç”¢æ ¼å¼æ¨™æº– | YAML frontmatter + Jinja2 æ¨¡æ¿ |
| [guidance-ai/guidance](https://github.com/guidance-ai/guidance) | çµæ§‹åŒ–ç”Ÿæˆ + æ¨¡æ¿ | ç´„æŸèªæ³•ã€Token æ§åˆ¶ |
| [stanfordnlp/dspy](https://github.com/stanfordnlp/dspy) | å®£å‘Šå¼ Prompt ç·¨ç¨‹ | ç·¨ç¨‹è€Œéæç¤ºçš„ç†å¿µ |
| [dottxt-ai/outlines](https://github.com/dottxt-ai/outlines) | çµæ§‹åŒ–è¼¸å‡ºä¿è­‰ | å‹åˆ¥é©…å‹•çš„è¼¸å‡ºç´„æŸ |

### MVP å¯¦ä½œè¨ˆåŠƒ

```yaml
Phase 1: Capability YAML Schema (v0.5.x)
  - å®šç¾© Capability YAML çµæ§‹
  - æ”¯æ´ skills åˆ—è¡¨ã€flow é¡å‹ã€contracts
  - æš«ä¸ä½¿ç”¨ textXï¼ˆé¿å…éæ—©å„ªåŒ–ï¼‰

Phase 2: YAML â†’ Graph è§£æå™¨ (v0.5.x)
  - ä½¿ç”¨ PyYAML è§£æ
  - è½‰æ›ç‚º networkx DAG
  - é©—è­‰åœ–åˆæ³•æ€§ï¼ˆç„¡ç’°ã€é€£é€šï¼‰

Phase 3: Graph â†’ Markdown ç·¨è­¯å™¨ (v0.6.x)
  - ä½¿ç”¨ Jinja2 æ¸²æŸ“æ¨¡æ¿
  - æ‹“æ’²æ’åºæ±ºå®šæ­¥é©Ÿé †åº
  - è¼¸å‡º .prompt.md æ ¼å¼

Phase 4: VS Code Extension æ•´åˆ (v0.6.x)
  - ç·¨è¼¯ YAML æ™‚è‡ªå‹•ç·¨è­¯
  - é è¦½ç”Ÿæˆçš„ Prompt
  - éŒ¯èª¤æç¤ºèˆ‡é©—è­‰
```

---

## ğŸš€ æ¶æ§‹å‡ç´šï¼šRuntime MCP å‹•æ…‹çµ„è£ (v0.6.x)

> **é‡å¤§æ±ºç­–**ï¼šå¾ã€Œéœæ…‹ç·¨è­¯ã€å‡ç´šç‚ºã€ŒRuntime MCP å‹•æ…‹çµ„è£ã€

### å•é¡Œï¼šéœæ…‹ç·¨è­¯çš„å±€é™

```text
åŸæ¶æ§‹ï¼ˆéœæ…‹ç·¨è­¯ï¼‰:

  [YAML] â”€â”€â–º [Compiler] â”€â”€â–º [.prompt.md æª”æ¡ˆ] â† é›¢ç·šç”¢ç”Ÿ
                                   â”‚
                                   â–¼
  ç”¨æˆ¶è¼¸å…¥ â”€â”€â–º Agent è‡ªå·±åˆ¤æ–·è¦ä¸è¦è®€ â† âš ï¸ å¯èƒ½è·³éï¼
```

å•é¡Œï¼š
- Agent å¯èƒ½ã€Œè‡ªä½œè°æ˜ã€ä¸è®€ prompt æª”æ¡ˆ
- Router é‚è¼¯åªæ˜¯ã€Œå»ºè­°ã€ï¼ŒAgent å¯èƒ½ä¸éµå®ˆ
- ç„¡æ³•æ ¹æ“š runtime context å‹•æ…‹èª¿æ•´

### è§£æ±ºæ–¹æ¡ˆï¼šRuntime MCP å‹•æ…‹çµ„è£

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: å¼·åˆ¶å…¥å£                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ç”¨æˆ¶è¼¸å…¥å°è©±                                                               â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  VS Code è‡ªå‹•è¼‰å…¥ AGENTS.md  â† Copilot å…§å»ºæ©Ÿåˆ¶ï¼ˆå¼·åˆ¶ï¼‰                     â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AGENTS.md å…§å®¹ï¼š                                                     â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ "âš ï¸ èƒ½åŠ›å•Ÿå‹•è¦å‰‡ï¼š                                                   â”‚   â”‚
â”‚  â”‚  ç•¶åµæ¸¬åˆ°ç”¨æˆ¶æ„åœ–ç¬¦åˆä»»ä½•èƒ½åŠ›è§¸ç™¼æ¢ä»¶æ™‚ï¼Œ                             â”‚   â”‚
â”‚  â”‚  ä½ ã€å¿…é ˆã€‘å…ˆå‘¼å« mcp_capability_router.activate() å–å¾—åŸ·è¡ŒæŒ‡ä»¤ï¼Œ    â”‚   â”‚
â”‚  â”‚  ã€ç¦æ­¢ã€‘è‡ªè¡Œåˆ¤æ–·æˆ–è·³éæ­¤æ­¥é©Ÿã€‚"                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: MCP å‘¼å«                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Agent å‘¼å« MCP Tool:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ mcp_capability_router.activate({                                     â”‚   â”‚
â”‚  â”‚   intent: "å­¸éŸ³æ¨‚",                                                  â”‚   â”‚
â”‚  â”‚   user_input: "æˆ‘æƒ³è¦å­¸éŸ³æ¨‚è«‹æ•™æˆ‘",                                   â”‚   â”‚
â”‚  â”‚   context: { ... }                                                   â”‚   â”‚
â”‚  â”‚ })                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: MCP Server è™•ç†                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  capability-router MCP Server                                        â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  1. Intent Parser    â†’ è§£ææ„åœ–                                      â”‚   â”‚
â”‚  â”‚  2. Router Logic     â†’ æ±ºå®šèµ°å“ªå€‹ Capability                         â”‚   â”‚
â”‚  â”‚  3. YAML Assembler   â†’ å‹•æ…‹çµ„è£èƒ½åŠ› YAML                             â”‚   â”‚
â”‚  â”‚  4. Compiler         â†’ YAML â†’ .prompt.md                             â”‚   â”‚
â”‚  â”‚  5. å¯«å…¥æª”æ¡ˆ         â†’ .claude/prompts/generated/{id}.prompt.md      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  å›å‚³ JSONï¼š                                                                â”‚
â”‚  {                                                                          â”‚
â”‚    "success": true,                                                         â”‚
â”‚    "prompt_file": ".claude/prompts/generated/music-teaching.prompt.md",    â”‚
â”‚    "capability_id": "music-teaching",                                      â”‚
â”‚    "instruction": "è«‹ç«‹å³ä½¿ç”¨ read_file è®€å–ä¸Šè¿° prompt_file ä¸¦åŸ·è¡Œ"        â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 4: å¼·åˆ¶è®€å– Promptï¼ˆä¸‰é‡ä¿éšªï¼‰                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ä¿éšª 1: AGENTS.md è¦å‰‡                                                     â”‚
â”‚    "æ”¶åˆ° capability_router å›å‚³å¾Œï¼Œã€å¿…é ˆã€‘ç«‹å³è®€å– prompt_file"            â”‚
â”‚                                                                             â”‚
â”‚  ä¿éšª 2: MCP å›å‚³åŒ…å«æ˜ç¢ºæŒ‡ä»¤                                               â”‚
â”‚    instruction: "è«‹ç«‹å³ä½¿ç”¨ read_file è®€å–ä¸Šè¿° prompt_file ä¸¦åŸ·è¡Œ"          â”‚
â”‚                                                                             â”‚
â”‚  ä¿éšª 3: Prompt æª”æ¡ˆè‡ªå¸¶åŸ·è¡ŒæŒ‡ä»¤                                            â”‚
â”‚    "# âš ï¸ ä½ æ­£åœ¨åŸ·è¡Œèƒ½åŠ›ï¼Œè«‹ä¾åºå®Œæˆä»¥ä¸‹æ­¥é©Ÿï¼Œã€ç¦æ­¢ã€‘è·³é"                  â”‚
â”‚                                                                             â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  Agent åŸ·è¡Œ read_file() â†’ è®€å– prompt â†’ åŸ·è¡Œå¾ŒçºŒ Skills                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MCP Server è¨­è¨ˆ

```yaml
# capability-router MCP Server
name: capability-router
version: "1.0"
description: èƒ½åŠ›è·¯ç”±èˆ‡å‹•æ…‹çµ„è£æœå‹™

tools:
  - name: activate
    description: å•Ÿå‹•èƒ½åŠ› - è§£ææ„åœ–ã€è·¯ç”±ã€çµ„è£ Prompt
    input:
      intent: string        # ç”¨æˆ¶æ„åœ–é—œéµè©
      user_input: string    # å®Œæ•´ç”¨æˆ¶è¼¸å…¥
      context: object       # å¯é¸çš„é¡å¤–ä¸Šä¸‹æ–‡
    output:
      success: boolean
      prompt_file: string   # ç”Ÿæˆçš„ prompt æª”æ¡ˆè·¯å¾‘
      capability_id: string # å•Ÿå‹•çš„èƒ½åŠ› ID
      instruction: string   # çµ¦ Agent çš„æ˜ç¢ºæŒ‡ä»¤

  - name: list_capabilities
    description: åˆ—å‡ºæ‰€æœ‰å¯ç”¨èƒ½åŠ›
    output:
      capabilities: array   # èƒ½åŠ›æ¸…å–®åŠè§¸ç™¼æ¢ä»¶

  - name: get_capability_status
    description: å–å¾—èƒ½åŠ›åŸ·è¡Œç‹€æ…‹
    input:
      capability_id: string
    output:
      status: string
      checkpoint: object
```

### æ¶æ§‹æ¯”è¼ƒ

| é¢å‘ | éœæ…‹ç·¨è­¯ | Runtime MCP å‹•æ…‹çµ„è£ |
| ---- | ---- | ---- |
| Prompt ç”¢ç”Ÿæ™‚æ©Ÿ | ç·¨è­¯æ™‚ (é›¢ç·š) | Runtime (å‹•æ…‹) |
| Router é‚è¼¯åŸ·è¡Œè€… | Agent (å¯èƒ½ä¸éµå®ˆ) | MCP Server (ç¢ºå®šæ€§) |
| Context æ„ŸçŸ¥ | âŒ å›°é›£ | âœ… å®¹æ˜“ |
| Agent è®€å–ä¿è­‰ | âŒ åªèƒ½ã€Œå»ºè­°ã€ | âœ… ä¸‰é‡ä¿éšªæ©Ÿåˆ¶ |
| å¯è¿½è¹¤æ€§ | âŒ ç„¡æ³•è¿½è¹¤ | âœ… MCP å›å‚³ JSON å¯è¨˜éŒ„ |

### ç¯„ä¾‹ï¼šCapability DSL (ææ¡ˆ)

```yaml
# .claude/capabilities/write-report/capability.yaml
capability: write-report
description: æ’°å¯«æ–‡ç»å ±å‘Šçš„èƒ½åŠ›
version: "1.0"

skills:
  - id: literature-search
    params:
      query: "{{topic}}"
      limit: 20
  - id: pdf-reader
    depends_on: [literature-search]
  - id: note-writer
    depends_on: [pdf-reader]
  - id: report-formatter
    depends_on: [note-writer]

flow: sequence

contracts:
  preconditions:
    - "topic å¿…é ˆç‚ºéç©ºå­—ä¸²"
  postconditions:
    - "ç”¢ç”Ÿ reports/*.md æª”æ¡ˆ"
```

### ç·¨è­¯è¼¸å‡ºç¯„ä¾‹

```markdown
# write-report

æ’°å¯«æ–‡ç»å ±å‘Šçš„èƒ½åŠ›

## å‰ç½®æ¢ä»¶
- topic å¿…é ˆç‚ºéç©ºå­—ä¸²

## åŸ·è¡Œæ­¥é©Ÿ

### Step 1: literature-search
è®€å– `.claude/skills/literature-search/SKILL.md` ä¸¦ä¾ç…§æŒ‡å¼•åŸ·è¡Œ
- åƒæ•¸: query={{topic}}, limit=20

### Step 2: pdf-reader
è®€å– `.claude/skills/pdf-reader/SKILL.md` ä¸¦ä¾ç…§æŒ‡å¼•åŸ·è¡Œ
- ä¾è³´: literature-search å®Œæˆ

### Step 3: note-writer
è®€å– `.claude/skills/note-writer/SKILL.md` ä¸¦ä¾ç…§æŒ‡å¼•åŸ·è¡Œ
- ä¾è³´: pdf-reader å®Œæˆ

### Step 4: report-formatter
è®€å– `.claude/skills/report-formatter/SKILL.md` ä¸¦ä¾ç…§æŒ‡å¼•åŸ·è¡Œ
- ä¾è³´: note-writer å®Œæˆ

## å¾Œç½®æ¢ä»¶
- ç”¢ç”Ÿ reports/*.md æª”æ¡ˆ
```

---

## ğŸµ è¨­è¨ˆæ¡ˆä¾‹ï¼šéŸ³æ¨‚å­¸ç¿’åŠ©æ‰‹

> é€™å€‹å®Œæ•´æ¡ˆä¾‹å±•ç¤ºäº† Intent â†’ Router â†’ Capability â†’ Skill â†’ Tool çš„å®Œæ•´æ¶æ§‹

### å ´æ™¯æè¿°

```
ç”¨æˆ¶è¼¸å…¥: "æˆ‘æƒ³è¦å­¸éŸ³æ¨‚è«‹æ•™æˆ‘"

ç³»çµ±éœ€è¦:
â”œâ”€â–º è·¯å¾‘ A (æ•™å­¸èƒ½åŠ›)
â”‚   â””â”€â–º æŸ¥è©¢æ•™æ â†’ å»ºæ§‹æ¨‚è­œ â†’ æ‰¾ YouTube æ•™å­¸
â”‚   â””â”€â–º è¼¸å‡º: æ¨‚è­œ + èªªæ˜ + æ•™å­¸å½±ç‰‡
â”‚
â””â”€â–º è·¯å¾‘ B (Demoèƒ½åŠ›)
    â””â”€â–º åå•ç¢ºèªé¡å‹ â†’ æœå°‹åŒ¹é…
    â””â”€â–º è¼¸å‡º: Spotify æ’­æ”¾é€£çµ
```

### æµç¨‹åœ–

```text
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  User Input                 â”‚
                          â”‚  "æˆ‘æƒ³è¦å­¸éŸ³æ¨‚è«‹æ•™æˆ‘"        â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Intent Parser              â”‚
                          â”‚  (æ„åœ–è§£æ)                  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚ Router â—‡ (è·¯ç”±æ±ºç­–)      â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                        â”‚                        â”‚
               â–¼                        â–¼                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ•™å­¸èƒ½åŠ›         â”‚     â”‚ Demoèƒ½åŠ›        â”‚     â”‚ å…¶ä»–èƒ½åŠ›...     â”‚
    â”‚ (music-teaching)â”‚     â”‚ (music-demo)    â”‚     â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚
             â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æŸ¥è©¢æ•™æ Skill   â”‚     â”‚ é€šç”¨åå• Skill   â”‚
    â”‚ (search-materials)â”‚   â”‚ (clarify-type)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚
             â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å»ºæ§‹æ¨‚è­œ Skill   â”‚     â”‚ API Match Skill â”‚
    â”‚ (sheet-builder) â”‚     â”‚ (api-matcher)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚
             â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ YouTube Match   â”‚     â”‚ Spotify Tool        â”‚
    â”‚ (youtube-api)   â”‚     â”‚ â†’ æ’­æ”¾ Demo éŸ³æ¨‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚
    â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YouTube  â”‚  â”‚ æ¨‚è­œè¼¸å‡º     â”‚
â”‚ æ•™å­¸å½±ç‰‡  â”‚  â”‚ + èªªæ˜æ–‡å­—   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### YAML è¡¨é” (GUI ç”¢ç”Ÿå™¨æœƒç”Ÿæˆ)

```yaml
# music-learning-assistant.yaml
intent: music-learning
description: éŸ³æ¨‚å­¸ç¿’åŠ©æ‰‹ - æ ¹æ“šç”¨æˆ¶éœ€æ±‚æä¾›æ•™å­¸æˆ–Demo

# è·¯ç”±è¦å‰‡ - æ±ºå®šèµ°å“ªå€‹èƒ½åŠ›
router:
  type: llm-classify  # ç”¨ LLM åˆ†é¡æ„åœ–
  options:
    - capability: music-teaching
      triggers: ["å­¸", "æ•™", "æ€éº¼å½ˆ", "å…¥é–€", "æ•™ç¨‹"]
    - capability: music-demo
      triggers: ["è½", "æ’­æ”¾", "æ¨è–¦", "demo", "ç¯„ä¾‹"]

capabilities:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # èƒ½åŠ› 1: éŸ³æ¨‚æ•™å­¸
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  - id: music-teaching
    description: å°å‡ºæ•™å­¸èƒ½åŠ›
    flow: sequence
    
    skills:
      - id: search-materials
        description: æŸ¥è©¢æ•™æ
        tool: web-search
        params:
          query: "{{instrument}} å…¥é–€æ•™ç¨‹"
          
      - id: build-sheet
        description: å»ºæ§‹æ¨‚è­œåŠæ•™æ
        tool: sheet-generator
        depends_on: [search-materials]
        params:
          difficulty: "{{level}}"
          
      - id: match-youtube
        description: æ‰¾å°‹å°æ‡‰ YouTube æ•™å­¸
        tool: youtube-api
        depends_on: [build-sheet]
        params:
          query: "{{instrument}} {{song}} tutorial"
          
    output:
      format: structured
      includes:
        - sheet_music: "from build-sheet"
        - explanation: "generated"
        - youtube_links: "from match-youtube"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # èƒ½åŠ› 2: éŸ³æ¨‚ Demo
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  - id: music-demo
    description: éŸ³æ¨‚Demoèƒ½åŠ›
    flow: sequence
    
    skills:
      - id: clarify-type
        description: é€šç”¨åå•ç¢ºèªé¡å‹
        tool: llm-clarify
        params:
          questions:
            - "æ‚¨æƒ³è½ä»€éº¼é¡å‹çš„éŸ³æ¨‚ï¼Ÿ(å¤å…¸/æµè¡Œ/çˆµå£«...)"
            - "æœ‰ç‰¹å®šçš„æ­Œæ›²æˆ–è—äººå—ï¼Ÿ"
            
      - id: match-spotify
        description: APIæ‰¾å°‹åŠmatch
        tool: spotify-api
        depends_on: [clarify-type]
        params:
          genre: "{{clarified_genre}}"
          artist: "{{clarified_artist}}"
          
    output:
      format: action
      action: play-spotify
      data: "from match-spotify"

# å…±ç”¨çš„ Skills (å¯è¢«å¤šå€‹èƒ½åŠ›å¼•ç”¨)
shared_skills:
  - id: api-matcher
    description: é€šç”¨ API æ‰¾å°‹åŠ match
    params:
      - api_type: string
      - query: string
```

### ç·¨è­¯å¾Œçš„ Prompt (çµ¦ Copilot è®€)

```markdown
# music-learning-assistant

éŸ³æ¨‚å­¸ç¿’åŠ©æ‰‹ - æ ¹æ“šç”¨æˆ¶éœ€æ±‚æä¾›æ•™å­¸æˆ–Demo

## æ„åœ–è·¯ç”±

ç•¶ç”¨æˆ¶æåˆ°éŸ³æ¨‚å­¸ç¿’ç›¸é—œè«‹æ±‚æ™‚ï¼š
1. å¦‚æœåŒ…å«ã€Œå­¸ã€ã€Œæ•™ã€ã€Œæ€éº¼å½ˆã€ã€Œå…¥é–€ã€ã€Œæ•™ç¨‹ã€â†’ åŸ·è¡Œ **æ•™å­¸èƒ½åŠ›**
2. å¦‚æœåŒ…å«ã€Œè½ã€ã€Œæ’­æ”¾ã€ã€Œæ¨è–¦ã€ã€Œdemoã€ã€Œç¯„ä¾‹ã€â†’ åŸ·è¡Œ **Demoèƒ½åŠ›**

---

## èƒ½åŠ› A: éŸ³æ¨‚æ•™å­¸ (music-teaching)

### Step 1: æŸ¥è©¢æ•™æ
ä½¿ç”¨ç¶²é æœå°‹å·¥å…·ï¼ŒæŸ¥è©¢ã€Œ{æ¨‚å™¨} å…¥é–€æ•™ç¨‹ã€

### Step 2: å»ºæ§‹æ¨‚è­œåŠæ•™æ  
ä¾æ“š Step 1 çµæœï¼Œä½¿ç”¨æ¨‚è­œç”Ÿæˆå·¥å…·ç”¢ç”Ÿé©åˆé›£åº¦çš„æ¨‚è­œ

### Step 3: æ‰¾å°‹ YouTube æ•™å­¸
æœå°‹ã€Œ{æ¨‚å™¨} {æ›²ç›®} tutorialã€ï¼Œå–å¾—ç›¸é—œæ•™å­¸å½±ç‰‡

### è¼¸å‡ºæ ¼å¼
æä¾›ï¼š
- ğŸ“„ æ¨‚è­œ (åœ–ç‰‡æˆ–é€£çµ)
- ğŸ“ èªªæ˜æ–‡å­—
- ğŸ¬ YouTube æ•™å­¸å½±ç‰‡é€£çµ

---

## èƒ½åŠ› B: éŸ³æ¨‚ Demo (music-demo)

### Step 1: ç¢ºèªé¡å‹
è©¢å•ç”¨æˆ¶ï¼š
- æ‚¨æƒ³è½ä»€éº¼é¡å‹çš„éŸ³æ¨‚ï¼Ÿ(å¤å…¸/æµè¡Œ/çˆµå£«...)
- æœ‰ç‰¹å®šçš„æ­Œæ›²æˆ–è—äººå—ï¼Ÿ

### Step 2: æœå°‹ä¸¦æ’­æ”¾
ä½¿ç”¨ Spotify API æœå°‹ä¸¦æä¾›æ’­æ”¾é€£çµ

### è¼¸å‡ºæ ¼å¼
æä¾› Spotify æ’­æ”¾é€£çµ
```

### æ¡ˆä¾‹æ­ç¤ºçš„æ¶æ§‹å…ƒç´ 

| æ¦‚å¿µ | åœ¨æ¡ˆä¾‹ä¸­çš„é«”ç¾ | è¨­è¨ˆæ„ç¾© |
|------|---------------|----------|
| **Intent (æ„åœ–)** | "å­¸éŸ³æ¨‚" | æœ€é«˜å±¤æŠ½è±¡ï¼Œæ¥è¿‘è‡ªç„¶èªè¨€ |
| **Router (è·¯ç”±)** | æ ¹æ“šé—œéµè©åˆ†æµ | æ–°ç¯€é»é¡å‹ï¼šæ±ºç­–è·¯ç”± â—‡ |
| **Capability (èƒ½åŠ›)** | æ•™å­¸èƒ½åŠ›ã€Demoèƒ½åŠ› | å¯ç¨ç«‹åŸ·è¡Œçš„å®Œæ•´æµç¨‹ |
| **Skill (æŠ€èƒ½)** | æŸ¥è©¢æ•™æã€å»ºæ§‹æ¨‚è­œ | å¯é‡ç”¨çš„æ“ä½œå–®å…ƒ |
| **Tool (å·¥å…·)** | YouTube APIã€Spotify API | æœ€åº•å±¤çš„å¯¦éš›èª¿ç”¨ |
| **Shared Skill** | `api-matcher` | è·¨èƒ½åŠ›å…±ç”¨ï¼Œé¿å…é‡è¤‡ |
| **Clarify Skill** | é€šç”¨åå• | æ–°æŠ€èƒ½é¡å‹ï¼šæ”¶é›†æ›´å¤šè³‡è¨Š |

### éœ€è¦æ–°å¢çš„è¨­è¨ˆå…ƒç´ 

```yaml
æ–°ç¯€é»é¡å‹:
  - intent-parser: æ„åœ–è§£æç¯€é»
  - router: è·¯ç”±æ±ºç­–ç¯€é» (é¡ä¼¼ Switch/Case)
  - clarify: åå•æ¾„æ¸…ç¯€é»

æ–°æ©Ÿåˆ¶:
  - shared_skills: è·¨èƒ½åŠ›å…±ç”¨æŠ€èƒ½
  - output.format: è¼¸å‡ºæ ¼å¼å®šç¾©
  - router.triggers: é—œéµè©è§¸ç™¼è¦å‰‡
```

### GUI ç·¨è¼¯å™¨æ¦‚å¿µåœ–

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Capability Editor: music-learning-assistant                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ Intent  â”‚â—„â”€â”€â”€ "å­¸éŸ³æ¨‚" â”€â”€â”€â”                                      â”‚
â”‚  â”‚ Parser  â”‚                  â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚                                      â”‚
â”‚       â”‚                       â”‚                                      â”‚
â”‚       â–¼                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚                                      â”‚
â”‚  â”‚ Router  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                      â”‚
â”‚  â”‚   â—‡     â”‚                  â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚                                      â”‚
â”‚       â”‚                       â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚       â”‚                   â”‚  â”‚ Properties Panel             â”‚   â”‚
â”‚   â–¼       â–¼                   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”                 â”‚  â”‚ Selected: Router             â”‚   â”‚
â”‚ â”‚ â—‹ â”‚   â”‚ â—‹ â”‚                 â”‚  â”‚ Type: llm-classify           â”‚   â”‚
â”‚ â”‚æ•™å­¸â”‚   â”‚Demoâ”‚                â”‚  â”‚ Options:                     â”‚   â”‚
â”‚ â””â”€â”¬â”€â”˜   â””â”€â”¬â”€â”˜                 â”‚  â”‚  - music-teaching: å­¸,æ•™...  â”‚   â”‚
â”‚   â”‚       â”‚                   â”‚  â”‚  - music-demo: è½,æ’­æ”¾...    â”‚   â”‚
â”‚   â–¼       â–¼                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”                 â”‚                                      â”‚
â”‚ â”‚...â”‚   â”‚...â”‚                 â”‚                                      â”‚
â”‚                               â”‚                                      â”‚
â”‚  [+ Add Node] [+ Add Edge]    â”‚  [Save YAML] [Compile to Prompt]    â”‚
â”‚                               â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– åƒè€ƒè³‡æº

### ç†è«–åŸºç¤

- [Petri Nets](https://en.wikipedia.org/wiki/Petri_net) - ä¸¦ç™¼ç³»çµ±å»ºæ¨¡
- [Statecharts](https://statecharts.dev/) - å±¤æ¬¡ç‹€æ…‹æ©Ÿ
- [Design by Contract](https://en.wikipedia.org/wiki/Design_by_contract) - å¥‘ç´„å¼è¨­è¨ˆ
- [Neuro-Symbolic AI](https://arxiv.org/abs/2012.05876) - ç¥ç¶“ç¬¦è™Ÿ AI

### ç›¸é—œå°ˆæ¡ˆ

- [IBM LNN](https://github.com/IBM/LNN) - Logical Neural Networks
- [LangGraph](https://github.com/langchain-ai/langgraph) - Agent ç‹€æ…‹åœ–
- [Temporal](https://temporal.io/) - å·¥ä½œæµå¼•æ“
- [Prefect](https://www.prefect.io/) - æ•¸æ“šç®¡ç·š
- [microsoft/prompty](https://github.com/microsoft/prompty) - Prompt è³‡ç”¢æ¨™æº–
- [guidance-ai/guidance](https://github.com/guidance-ai/guidance) - çµæ§‹åŒ–ç”Ÿæˆ
- [stanfordnlp/dspy](https://github.com/stanfordnlp/dspy) - å®£å‘Šå¼ Prompt ç·¨ç¨‹
- [dottxt-ai/outlines](https://github.com/dottxt-ai/outlines) - çµæ§‹åŒ–è¼¸å‡º

### æ¨™æº–è¦ç¯„

- [BPMN 2.0](https://www.omg.org/spec/BPMN/2.0/) - æ¥­å‹™æµç¨‹å»ºæ¨¡
- [UML Activity Diagram](https://www.uml-diagrams.org/activity-diagrams.html)
- [MCP Protocol](https://modelcontextprotocol.io/) - æ¨¡å‹ä¸Šä¸‹æ–‡å”è­°

---

## âš ï¸ é¢¨éšªèˆ‡æŒ‘æˆ°

| é¢¨éšª | å½±éŸ¿ | ç·©è§£ç­–ç•¥ |
|------|------|----------|
| éåº¦æŠ½è±¡ | å¯¦ç”¨æ€§ä¸‹é™ | æ¯éšæ®µä¿æŒå¯åŸ·è¡ŒåŸå‹ |
| ç¬¦è™Ÿçˆ†ç‚¸ | è¤‡é›œåº¦å¤±æ§ | æœ€å°å¯è¡Œç¬¦è™Ÿé›† |
| å­¸è¡“åŒ–å‚¾å‘ | è„«é›¢å¯¦éš›éœ€æ±‚ | æŒçºŒèˆ‡å¯¦éš›å ´æ™¯å°æ¥ |
| ç¯„åœè”“å»¶ | ç„¡æ³•å®Œæˆ | åš´æ ¼çš„éšæ®µç›®æ¨™ |

---

## ğŸ“ æ±ºç­–è¨˜éŒ„

| æ—¥æœŸ | æ±ºç­– | åŸå›  |
|------|------|------|
| 2024-12-20 | æ¡ç”¨ Prompt Files æ©Ÿåˆ¶ | VS Code åŸç”Ÿæ”¯æ´ |
| 2024-12-22 | Python DDD æ¶æ§‹ | é¡å‹å®‰å…¨ + æ¸¬è©¦å‹å¥½ |
| 2024-12-23 | Neuro-Symbolic å®šä½ | å€åˆ¥æ–¼ LangGraph ç­‰ |
| 2024-12-23 | ç ”ç©¶å°å‘è·¯ç·šåœ– | æ¢ç´¢æ€§å°ˆæ¡ˆ |
| 2024-12-23 | **Prompt Compiler å®šä½** | Agent å¤–å±¤ç´„æŸï¼Œå”¯ä¸€é€šé“æ˜¯ç´”æ–‡å­— |
| 2024-12-23 | å…·è±¡åŒ–ç‚ºç·¨è­¯éåŸ·è¡Œ | æˆ‘å€‘ä¸åŸ·è¡Œèƒ½åŠ›ï¼Œè€Œæ˜¯ç·¨è­¯æˆ Prompt |
