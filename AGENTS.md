# AGENTS.md - VS Code Copilot Agent æŒ‡å¼•

æ­¤æ–‡ä»¶ç‚º VS Code GitHub Copilot çš„ Agent Mode æä¾›å°ˆæ¡ˆä¸Šä¸‹æ–‡ã€‚

---

## ğŸš€ èƒ½åŠ›è‡ªå‹•è§¸ç™¼ç³»çµ± (Capability Auto-Trigger)

### âš¡ æ ¸å¿ƒè¦å‰‡

**ç•¶åµæ¸¬åˆ°ä»¥ä¸‹æƒ…å¢ƒæ™‚ï¼Œå¿…é ˆå…ˆè®€å–å°æ‡‰çš„ CAPABILITY.md å†åŸ·è¡Œï¼š**

| è§¸ç™¼æ¢ä»¶ | èƒ½åŠ› | è¼‰å…¥è·¯å¾‘ |
|----------|------|----------|
| ç”¨æˆ¶æåˆ°ã€Œå ±å‘Šã€ã€ŒPDFã€ã€Œæ–‡ç»ã€ã€Œè«–æ–‡ã€ | write-report | `.claude/capabilities/write-report/CAPABILITY.md` |
| ç”¨æˆ¶æåˆ°ã€Œéƒ¨ç½²ã€ã€Œdeployã€ã€Œä¸Šç·šã€ | project-deploy | `.claude/capabilities/project-deploy/CAPABILITY.md` |
| ç”¨æˆ¶æåˆ°ã€Œcommitã€ã€Œæäº¤ã€ã€Œpushã€ | git-commit | `.claude/capabilities/git-commit/CAPABILITY.md` |
| ç”¨æˆ¶æåˆ°ã€Œå¯©æŸ¥ã€ã€Œreviewã€ç¨‹å¼ç¢¼ | code-review | `.claude/capabilities/code-review/CAPABILITY.md` |
| ç”¨æˆ¶æåˆ°ã€Œé‡æ§‹ã€ã€Œrefactorã€ã€Œæ‹†åˆ†ã€ | code-refactor | `.claude/capabilities/code-refactor/CAPABILITY.md` |
| ç”¨æˆ¶æåˆ°ã€Œæ¸…ç†ã€ã€Œcleanupã€ | cleanup | `.claude/capabilities/cleanup/CAPABILITY.md` |

> ğŸ“‹ **å®Œæ•´èƒ½åŠ›æ¸…å–®**ï¼š`.claude/capabilities/registry.yaml`

### è§¸ç™¼æµç¨‹

```
ç”¨æˆ¶è¼¸å…¥
    â”‚
    â”œâ”€â”€â–º åŒ¹é…è§¸ç™¼æ¢ä»¶?
    â”‚         â”‚
    â”‚         â”œâ”€â”€ YES â”€â”€â–º è®€å– CAPABILITY.md â”€â”€â–º åŸ·è¡Œèƒ½åŠ›æµç¨‹
    â”‚         â”‚
    â”‚         â””â”€â”€ NO  â”€â”€â–º ä¸€èˆ¬å°è©±è™•ç†
    â”‚
    â””â”€â”€â–º æ˜ç¢ºä½¿ç”¨ /cp.xxx â”€â”€â–º è¼‰å…¥ prompt file â”€â”€â–º åŸ·è¡Œèƒ½åŠ›æµç¨‹
```

---

## ğŸ¯ /cp.xxx æŒ‡ä»¤ç³»çµ±

æœ¬å°ˆæ¡ˆä½¿ç”¨ **Prompt Files** å¯¦ç¾è‡ªå®šç¾©æ–œç·šæŒ‡ä»¤ï¼ˆæ˜ç¢ºè§¸ç™¼æ–¹å¼ï¼‰ã€‚

### å¯ç”¨æŒ‡ä»¤

| æŒ‡ä»¤ | èªªæ˜ | å°æ‡‰èƒ½åŠ› |
|------|------|----------|
| `/cp.write_report` | ğŸ“ æ’°å¯«å ±å‘Š | write-report |
| `/cp.project_check` | ğŸ” å°ˆæ¡ˆæª¢æŸ¥ | project-check |
| `/cp.deploy` | ğŸš€ éƒ¨ç½²å°ˆæ¡ˆ | project-deploy |
| `/cp.cleanup` | ğŸ§¹ æ¸…ç†å°ˆæ¡ˆ | cleanup |
| `/cp.commit` | ğŸ“¦ Git æäº¤ | git-commit |
| `/cp.new_skill` | ğŸ§© æ–°å¢æŠ€èƒ½ | new-skill |
| `/cp.new_capability` | ğŸ”— æ–°å¢èƒ½åŠ› | new-capability |
| `/cp.help` | â“ é¡¯ç¤ºèªªæ˜ | - |

### é‹ä½œåŸç†

```
ç”¨æˆ¶è¼¸å…¥ /cp.xxx
    â†“
VS Code è¼‰å…¥ .github/prompts/cp.xxx.prompt.md
    â†“
Prompt æŒ‡å‘ .claude/capabilities/{id}/CAPABILITY.md
    â†“
Agent ä¾ç…§ CAPABILITY.md åŸ·è¡Œæµç¨‹
```

---

## ğŸ“¦ Skill ç³»çµ±

Skills æ˜¯å¯é‡ç”¨çš„èƒ½åŠ›æ¨¡çµ„ï¼Œä½æ–¼ `.claude/skills/`ã€‚

### Skill å±¤ç´š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Composite Skills (çµ„åˆèƒ½åŠ›)                              â”‚
â”‚  â”œâ”€ literature-retrieval (æ–‡ç»æª¢ç´¢ = search + filter)   â”‚
â”‚  â””â”€ report-writing (è®€å¯«å ±å‘Š = read + write + validate) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Atomic Skills (åŸå­æŠ€èƒ½)                                 â”‚
â”‚  â”œâ”€ æ–‡ç»é¡ï¼šliterature-search, literature-filter        â”‚
â”‚  â”œâ”€ å ±å‘Šé¡ï¼špdf-reader, note-writer, content-validator â”‚
â”‚  â”œâ”€ æ–‡ä»¶é¡ï¼šreport-formatter, readme-updater, ...      â”‚
â”‚  â”œâ”€ Gité¡ï¼šgit-precommit, git-pusher                   â”‚
â”‚  â””â”€ ç¶­è­·é¡ï¼šmemory-updater, temp-cleaner, ...          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯ç”¨ Skills

| é¡åˆ¥ | Skill ID | èªªæ˜ |
|------|----------|------|
| **æ–‡ç»æª¢ç´¢** | `literature-search` | å¤šç­–ç•¥æ–‡ç»æœå°‹ (MCP) |
| | `literature-filter` | æ–‡ç»éæ¿¾èˆ‡ç¢ºèª |
| | `literature-retrieval` | ğŸ”— çµ„åˆï¼šæœå°‹ + éæ¿¾ |
| **å ±å‘Šæ’°å¯«** | `pdf-reader` | PDF è®€å–èˆ‡è½‰æ› |
| | `note-writer` | çµæ§‹åŒ–ç­†è¨˜æ’°å¯« |
| | `content-validator` | å…§å®¹æº–ç¢ºæ€§é©—è­‰ |
| | `report-formatter` | å ±å‘Šæ ¼å¼åŒ– |
| | `report-writing` | ğŸ”— çµ„åˆï¼šè®€å¯«å ±å‘Šæµç¨‹ |
| **æ–‡ä»¶** | `readme-updater` | README æ›´æ–° |
| | `changelog-updater` | CHANGELOG æ›´æ–° |
| | `roadmap-updater` | ROADMAP æ›´æ–° |
| **å°ˆæ¡ˆ** | `project-checker` | å°ˆæ¡ˆç‹€æ…‹æª¢æŸ¥ |
| | `memory-updater` | Memory Bank åŒæ­¥ |
| | `memory-checkpoint` | è¨˜æ†¶æª¢æŸ¥é» |
| **å“è³ª** | `code-reviewer` | ç¨‹å¼ç¢¼å¯©æŸ¥ |
| | `test-generator` | æ¸¬è©¦ç”Ÿæˆ |
| **Git** | `git-precommit` | æäº¤å‰æª¢æŸ¥ |
| | `git-pusher` | Git æ¨é€ |
| **ç¶­è­·** | `temp-cleaner` | æ¸…ç†æš«å­˜ |
| | `code-refactor` | ç¨‹å¼ç¢¼é‡æ§‹ |
| **æ¶æ§‹** | `ddd-architect` | DDD æ¶æ§‹è¼”åŠ© |
| | `project-init` | å°ˆæ¡ˆåˆå§‹åŒ– |

### ä½¿ç”¨ Skill

åŸ·è¡Œ Skill æ™‚ï¼Œåƒè€ƒå°æ‡‰çš„ SKILL.mdï¼š

```
.claude/skills/{skill-id}/SKILL.md
```

---

## ğŸ“‹ å°ˆæ¡ˆè¦å‰‡

### æ³•è¦å±¤ç´š

1. **æ†²æ³•**ï¼š`CONSTITUTION.md` - æœ€é«˜åŸå‰‡
2. **å­æ³•**ï¼š`.github/bylaws/*.md` - ç´°å‰‡è¦ç¯„
3. **æŠ€èƒ½**ï¼š`.claude/skills/*/SKILL.md` - æ“ä½œç¨‹åº

### Memory Bank åŒæ­¥

æ¯æ¬¡é‡è¦æ“ä½œå¿…é ˆæ›´æ–° Memory Bankï¼š

| æ“ä½œ | æ›´æ–°æ–‡ä»¶ |
|------|----------|
| å®Œæˆä»»å‹™ | `memory-bank/progress.md` (Done) |
| é–‹å§‹ä»»å‹™ | `memory-bank/progress.md` (Doing) |
| é‡å¤§æ±ºç­– | `memory-bank/decisionLog.md` |
| æ¶æ§‹è®Šæ›´ | `memory-bank/architect.md` |

### Git å·¥ä½œæµ

æäº¤å‰æª¢æŸ¥æ¸…å–®ï¼š
- âœ… Memory Bank åŒæ­¥ï¼ˆå¿…è¦ï¼‰
- ğŸ“– README æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰
- ğŸ“‹ CHANGELOG æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰
- ğŸ—ºï¸ ROADMAP æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰

---

## ğŸ”§ æ“´å±•èƒ½åŠ›

### æ–°å¢ Skill

1. å»ºç«‹ç›®éŒ„ï¼š`.claude/skills/{skill-id}/`
2. å»ºç«‹ `SKILL.md` å®šç¾©æŠ€èƒ½
3. åœ¨ Capability ä¸­å¼•ç”¨

### æ–°å¢ Capability

1. å»ºç«‹ `.github/prompts/cp.{id}.prompt.md`
2. å®šç¾©åŸ·è¡Œæ­¥é©Ÿï¼Œå¼•ç”¨ Skills
3. æ›´æ–° `cp.help.prompt.md`

è©³è¦‹ï¼š`/cp.new_skill` å’Œ `/cp.new_capability`

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```text
copilot-capability-manager/
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ prompts/               # Prompt Files (è§¸ç™¼ /cp.xxx)
â”‚   â””â”€â”€ bylaws/                # å­æ³•è¦
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ skills/                # åŸå­æŠ€èƒ½ (Atomic Skills)
â”‚   â””â”€â”€ capabilities/          # èƒ½åŠ›å®šç¾© (NEW!)
â”‚       â”œâ”€â”€ registry.yaml      # èƒ½åŠ›è¨»å†Šè¡¨
â”‚       â””â”€â”€ {capability-id}/
â”‚           â””â”€â”€ CAPABILITY.md  # èƒ½åŠ›æ–‡ä»¶
â”œâ”€â”€ memory-bank/               # å°ˆæ¡ˆè¨˜æ†¶
â”œâ”€â”€ AGENTS.md                  # æœ¬æ–‡ä»¶
â”œâ”€â”€ CONSTITUTION.md            # æ†²æ³•
â””â”€â”€ README.md                  # å°ˆæ¡ˆèªªæ˜
```

---

## ğŸ—ï¸ ä¸‰å±¤æ¶æ§‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Capability Layer                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ write-report â”‚ â”‚ git-commit   â”‚ â”‚ code-review  â”‚ ...        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚                â”‚                â”‚                     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                          â–¼                                      â”‚
â”‚              .claude/capabilities/registry.yaml                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Skill Layer                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ pdf-reader â”‚ â”‚lit-search  â”‚ â”‚note-writer â”‚ â”‚report-fmt  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                  .claude/skills/{id}/SKILL.md                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Tool Layer                                   â”‚
â”‚  MCP Tools: pubmed-search, zotero-keeper, pylance, ...          â”‚
â”‚  VS Code: read_file, create_file, run_in_terminal, ...          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å›æ‡‰é¢¨æ ¼

- ä½¿ç”¨**ç¹é«”ä¸­æ–‡**
- æä¾›æ¸…æ™°çš„æ­¥é©Ÿèªªæ˜
- åŸ·è¡Œæ“ä½œå¾Œæ›´æ–° Memory Bank
